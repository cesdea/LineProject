<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GameTeller Â· AI</title>
  <!-- ë©”ì¸ ìŠ¤íƒ€ì¼ (ì‚¬ìš©ìê°€ ì œê³µí•œ main.css) -->
  <link rel="stylesheet" href="./assets/css/main.css" />
  <!-- Markdown ë Œë”ë§ (ì—…ë¡œë” ì˜ˆì œì™€ ë™ì¼) -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <style>
    /* í˜ì´ì§€ ì „ìš© ë³´ì¡° ìŠ¤íƒ€ì¼ (main.cssì™€ ì¶©ëŒ ì—†ì´ ë³´ì™„) */
    body.page-ai { background: radial-gradient(1000px 600px at 70% 30%, #0b1020 0%, #0a0f1a 55%, #05070d 100%); }

    .site-header .brand { color:#d8e9ff; }
    .site-header { border-bottom: 1px solid rgba(120,160,255,.18); background: rgba(11,16,32,.65); backdrop-filter: blur(8px); }

    /* íˆì–´ë¡œ ë‚´ë¶€ í…ìŠ¤íŠ¸ ëŒ€ë¹„ */
    .hero-full .site { color:#eaf2ff; }
    .hero-full .sub { color:#bcd3ff; }

    /* AI ì±„íŒ… ë ˆì´ì•„ì›ƒ */
    .ai-wrap { display:grid; grid-template-columns: 320px 1fr; gap: var(--sp-6); align-items: start; margin: 28px 0 48px; }
    .ai-side { position: sticky; top: 96px; align-self: start; }
    .ai-side .card { background: rgba(10,15,26,.6); border:1px solid rgba(120,160,255,.15); color:#eaf2ff; }

    .chatbox.card { background: rgba(10,15,26,.6); border:1px solid rgba(120,160,255,.15); color:#eaf2ff; padding: 0; overflow: hidden; }
    .chatbox header { display:flex; align-items:center; justify-content:space-between; padding: 12px 14px; border-bottom:1px solid rgba(120,160,255,.18); }
    .chatbox header .title { font-weight: 700; }

    .chat-log { padding: 14px; max-height: min(62vh, 680px); overflow: auto; display:flex; flex-direction: column; gap: 12px; }
    .bubble { border-radius: 18px; padding: 10px 12px; width: fit-content; max-width: 92%; box-shadow: 0 12px 24px rgba(0,0,0,.25); }
    .bubble.me { margin-left: auto; background: #2b6cb0; color:#fff; }
    .bubble.ai { background: rgba(120,160,255,.12); color:#eaf2ff; border:1px solid rgba(120,160,255,.18); }

    .chat-input { display:flex; gap: 8px; padding: 10px; border-top:1px solid rgba(120,160,255,.18); background: rgba(8,11,20,.85); }
    .chat-input input[type="text"], .chat-input textarea {
      flex: 1; min-height: 48px; max-height: 160px; padding: 12px; border-radius: 14px; border:1px solid rgba(160,190,255,.25);
      background:#0a0f1a; color:#d8e9ff; outline: none; resize: vertical;
    }
    .chat-input input:focus, .chat-input textarea:focus { border-color: rgba(120,170,255,.6); box-shadow: 0 0 0 3px rgba(120,170,255,.18); }

    .toolbar { display:flex; flex-wrap: wrap; gap: 8px; align-items:center; padding: 10px 14px; border-top:1px solid rgba(120,160,255,.18); background: rgba(8,11,20,.85); }
    .toolbar .seg { display:inline-flex; border:1px solid rgba(120,160,255,.25); border-radius: 999px; overflow: hidden; }
    .toolbar .seg button { border:0; background: transparent; padding:8px 12px; color:#bcd3ff; cursor:pointer; }
    .toolbar .seg button.active { background: rgba(120,160,255,.15); color:#eaf2ff; }
    .toolbar label { display:inline-flex; align-items:center; gap:6px; color:#bcd3ff; }

    .note { font-size: 12px; color:#9eb6d9; opacity:.9; }

    /* ë°˜ì‘í˜• */
    @media (max-width: 1024px) {
      .ai-wrap { grid-template-columns: 1fr; }
      .ai-side { position: static; }
    }

        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
    .bubble.ai.loading {
      display: inline-flex;
      gap: 4px;
      background: rgba(120,160,255,.12);
      border: 1px solid rgba(120,160,255,.18);
    }

    .bubble.ai.loading .dot {
      width: 8px;
      height: 8px;
      background: #bcd3ff;
      border-radius: 50%;
      opacity: 0.5;
      animation: dotPulse 1.2s infinite ease-in-out;
    }

    .bubble.ai.loading .dot:nth-child(1){ animation-delay: 0s; }
    .bubble.ai.loading .dot:nth-child(2){ animation-delay: 0.2s; }
    .bubble.ai.loading .dot:nth-child(3){ animation-delay: 0.4s; }

    @keyframes dotPulse {
      0%, 80%, 100% { opacity: .3; transform: scale(.7); }
      40% { opacity: 1; transform: scale(1); }
    }
  </style>
</head>

<body class="page-ai">
  <!-- ê³µí†µ í—¤ë” -->
  <header class="site-header">
    <div class="header-inner container">
      <div class="brand">GameTeller</div>
      <nav class="nav"></nav>
      <div class="header-actions">
        <a href="./index.html" class="back-btn">â† ë©”ì¸ìœ¼ë¡œ</a>
      </div>
    </div>
  </header>

  <!-- í’€ìŠ¤í¬ë¦° íˆì–´ë¡œ (main.css ì˜ .hero-full,.overlay ì¬ì‚¬ìš©) -->
  <section class="hero-full">
    <div class="bg">
      <!-- í•„ìš” ì‹œ ì´ë¯¸ì§€ êµì²´ -->
      <img src="https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=1920&auto=format&fit=crop" alt="neon game bg" loading="lazy" />
    </div>

    <!-- ë¶€ë“œëŸ¬ìš´ í”Œë¡œíŒ… ì•„ì´ì½˜ ë°ì½” (ì„ íƒ) -->
    <div class="icon-field" aria-hidden="true">
      <img class="icon" style="--xp:18; --yp:32; --size:72px; --dxv: 3vw; --ampv:1.2vh; --rot:6deg; --duration:16s; --delay:0s;" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f3ae.svg" alt="ğŸ®" />
      <img class="icon" style="--xp:72; --yp:24; --size:60px; --dxv: 2.5vw; --ampv:1vh; --rot:5deg; --duration:18s; --delay:.6s;" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/2728.svg" alt="âœ¨" />
      <img class="icon" style="--xp:84; --yp:68; --size:64px; --dxv: 3.4vw; --ampv:1.4vh; --rot:7deg; --duration:19s; --delay:.2s;" src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f680.svg" alt="ğŸš€" />
    </div>

    <!-- ì¹´í”¼ & ì•¡ì…˜ -->
    <div class="overlay">
      <div class="hero-content">
        <h1 class="site">GameTeller AI</h1>
        <p class="sub">ê²Œì„ ì¶”ì²œÂ·ê³µëµÂ·ë‰´ìŠ¤ ìš”ì•½, í•˜ë‚˜ì˜ AIë¡œ í•´ê²°í•˜ì„¸ìš”.</p>
        <a class="btn primary" href="#ai">ì§€ê¸ˆ ì‚¬ìš©í•´ë³´ê¸°</a>
        <a class="btn ghost" href="#how">ì‚¬ìš© ê°€ì´ë“œ</a>
      </div>
    </div>
  </section>

  <main id="ai" class="container ai-wrap">
    <!-- ì¢Œì¸¡ ì‚¬ì´ë“œ: í”„ë¦¬ì…‹/ê°€ì´ë“œ -->
    <aside class="ai-side">
      <article class="card">
        <h3 class="section-title">ë¹ ë¥¸ ì‹œì‘</h3>
        <div class="chips">
          <button class="btn ghost" data-prompt="ìš”ì¦˜ ì¸ê¸° í˜‘ë™ ê²Œì„ 3ê°œ ì¶”ì²œí•´ì¤˜. ê° ì¥ë¥´/í”Œë«í¼/ë‚œì´ë„ í¬í•¨">ì¸ê¸° í˜‘ë™ ê²Œì„</button>
          <button class="btn ghost" data-prompt="ì—˜ë“  ë§ ì´ˆë°˜ ë¹Œë“œ ê°€ì´ë“œ ìš”ì•½. ì´ˆë³´ì íŒ 5ê°œ í¬í•¨">ê³µëµ ìš”ì•½</button>
          <button class="btn ghost" data-prompt="ë©”íƒ€í¬ë¦¬í‹± 85ì  ì´ìƒ ì¸ë””ê²Œì„ Top5 ë¦¬ìŠ¤íŠ¸ì—…">ì¸ë”” Top5</button>
        </div>
        <p class="note" id="how">Tip) í”„ë¡¬í”„íŠ¸ëŠ” êµ¬ì²´ì ìœ¼ë¡œ. ëª©ì Â·ëŒ€ìƒÂ·í˜•ì‹ì„ í•¨ê»˜ ì ìœ¼ë©´ ë” ì¢‹ì•„ìš”.</p>
      </article>
      <article class="card">
        <h3 class="section-title">ëª¨ë¸/ëª¨ë“œ</h3>
        <div class="toolbar">
          <div class="seg" role="tablist" aria-label="Response mode">
            <button type="button" class="active" data-mode="fast">ë¹ ë¥¸</button>
            <button type="button" data-mode="precise">ì •ë°€</button>
          </div>
          <label><input type="checkbox" id="streamToggle" /> ìŠ¤íŠ¸ë¦¬ë°</label>
        </div>
        <p class="note">ìŠ¤íŠ¸ë¦¬ë° ì¼œë©´ ë‹µë³€ì´ í•œ ì¤„ì”© ì‹¤ì‹œê°„ í‘œì‹œë©ë‹ˆë‹¤.</p>
      </article>
    </aside>

    <!-- ìš°ì¸¡: ì±„íŒ… ë°•ìŠ¤ -->
    <section class="chatbox card" aria-live="polite">
      <header>
        <span class="title">GameTeller AI ì–´ì‹œìŠ¤í„´íŠ¸</span>
        <button class="btn ghost" type="button" id="clearBtn">ëŒ€í™” ì§€ìš°ê¸°</button>
      </header>

      <div id="aiLog" class="chat-log" aria-label="Conversation"></div>

      <div class="toolbar">
        <div class="seg" role="tablist" aria-label="Output format">
          <button type="button" class="active" data-format="markdown">Markdown</button>
          <button type="button" data-format="plain">í…ìŠ¤íŠ¸</button>
        </div>
        <span class="note">* í‚¤ ê´€ë¦¬ëŠ” ì„œë²„ í”„ë¡ì‹œ ê¶Œì¥. ë°ëª¨ ëª©ì ì˜ í´ë¼ì´ì–¸íŠ¸ í˜¸ì¶œì…ë‹ˆë‹¤.</span>
      </div>

      <form id="aiForm" class="chat-input" autocomplete="off">
        <textarea id="aiInput" rows="2" placeholder="ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”? (ì˜ˆ: 10ì›”ì— í• ë§Œí•œ ìŠ¤íŒ€ ì‹ ì‘ ì¶”ì²œ)" required></textarea>
        <button class="btn primary" type="submit">ë³´ë‚´ê¸°</button>
      </form>
    </section>
  </main>

  <section class="container zone" style="margin-bottom:80px">
    <h3 class="section-title">ê°œë°œì ì°¸ê³ </h3>
    <div class="card">
      <ul>
        <li>Non-Streaming: <code>models:generateContent</code> í˜¸ì¶œ</li>
        <li>Streaming: <code>models:streamGenerateContent</code> í˜¸ì¶œ</li>
        <li>Markdown ë Œë”ë§ì€ <code>marked</code> ì‚¬ìš©</li>
      </ul>
      <p class="note">ì‹¤ì„œë¹„ìŠ¤ì—ì„œëŠ” <strong>API í‚¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë‘ì§€ ë§ˆì„¸ìš”</strong>. ê°„ë‹¨í•œ Node/Express í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•´ ì„œë²„ ì‚¬ì´ë“œì—ì„œ í‚¤ë¥¼ ë³´í˜¸í•˜ì„¸ìš”.</p>
    </div>
  </section>

    <!-- âœ… ì„¤ì •: ì „ì—­(window)ì— ë“±ë¡ -->
  <script>
    window.CONFIG = {
      MODEL_FAST: 'gemini-2.5-flash',
      MODEL_PRECISE: 'gemini-2.0-pro-exp-02-05',
      API_KEY: 'AIzaSyBSGbThI7csEQHvELcYpb32DP-cNZV3cR8',
      BASE: 'https://generativelanguage.googleapis.com/v1beta/models/'
    };
  </script>

  <!-- âœ… ì™¸ë¶€ JS ë¡œì§ ë¡œë“œ: ë°˜ë“œì‹œ CONFIG ì•„ë˜ì— -->
  <script src="./assets/js/ai.js"></script>
  <script src="./assets/js/app.js"></script>

</body>
</html>
